---

# Main collection of env. vars to set for all tasks and scripts.
env:
    # Name of the ultimate destination branch for this CI run, PR or post-merge.
    DEST_BRANCH: "master"
    # Shell used to execute all script commands
    CIRRUS_SHELL: "/bin/bash"
    # No need to go crazy, but grab enough to cover most PRs
    CIRRUS_CLONE_DEPTH: 50

# Default runtime environment
container:
    # Ref: https://cirrus-ci.org/guide/docker-builder-vm/#dockerfile-as-a-ci-environment
    dockerfile: ci/Containerfile
    cpu: 1
    memory: 1G

task:
    name: &stub_name stub
    alias: *stub_name
    clone_script: &noop_clone mkdir -p "${CIRRUS_WORKING_DIR}"  # source is not needed
    script: &noop_script /bin/true

task:
    name: &success_name success
    alias: *success_name
    depends_on:
        - *stub_name
    clone_script: *noop_clone
    script: *noop_script
